

-- PRIMARY KEY
DROP TABLE IF EXISTS T1;
CREATE TABLE T1(
	C1 INT PRIMARY KEY
);

-- CONSTRAINT
DROP TABLE IF EXISTS T2;
CREATE TABLE T2(
	C1 INT NOT NULL,
	C2 CHAR(100),
	C3 VARCHAR(200),
	C4 VARCHAR(100),
	C5 TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CONSTRAINT PRIMARY KEY PK1(C1 DESC),
	CONSTRAINT UNIQUE INDEX IDX1(C2) USING BTREE,
	CONSTRAINT UNIQUE INDEX IDX2(C3) USING HASH
);



-- AUTO INCREMENT
DROP TABLE IF EXISTS T3;
CREATE TABLE T3(
	C1 INT AUTO_INCREMENT PRIMARY KEY COMMENT 'AI' 
);

-- FOREIGN KEY
DROP TABLE IF EXISTS T5;
DROP TABLE IF EXISTS T4;
CREATE TABLE T4(
	C1 INT PRIMARY KEY
);
CREATE TABLE T5(
	C1 INT,
	C2 INT,
	CONSTRAINT PRIMARY KEY PK1(C1),
	CONSTRAINT FOREIGN KEY FK1(C2) REFERENCES T4(C1)
	MATCH FULL
);


-- PARTITION
DROP TABLE IF EXISTS T6;
CREATE TABLE T6(
	C1 INT PRIMARY KEY,
	C2 INT 
)
PARTITION BY RANGE( C1 ) (
	PARTITION P0 VALUES LESS THAN(10),
	PARTITION P2 VALUES LESS THAN(20),
	PARTITION P3 VALUES LESS THAN(30)
);

ALTER TABLE T6 ADD PARTITION( PARTITION P10 VALUES LESS THAN MAXVALUE );

ALTER TABLE T6 DROP PARTITION P10;

ALTER TABLE T6 REORGANIZE PARTITION P3 INTO (
	PARTITION P10 VALUES LESS THAN MAXVALUE
);

ALTER TABLE T6 REORGANIZE PARTITION P10 INTO (
	PARTITION P3 VALUES LESS THAN(30),
	PARTITION P10 VALUES LESS THAN MAXVALUE
);

-- HASH
DROP TABLE IF EXISTS T7;
CREATE TABLE T7(
	C1 INT PRIMARY KEY,
	C2 INT 
)
PARTITION BY HASH( C1 )
PARTITIONS 4;

-- LIST, SUBPARTITION
DROP TABLE IF EXISTS T8;
CREATE TABLE T8(
	C1 INT ,
	C2 INT ,
	CONSTRAINT PRIMARY KEY PK1(C1,C2)
)
PARTITION BY LIST( C1 )
SUBPARTITION BY HASH( C2 )  
(
	PARTITION P0 VALUES IN( 1,2,3,4,5) 
	(
		SUBPARTITION S0,
		SUBPARTITION S1
	),
	PARTITION P1 VALUES IN( 11,12,13,14,15)	
	(
		SUBPARTITION S2,
		SUBPARTITION S3
	)
);


-- TEMPORARY TABLE
DROP TABLE IF EXISTS T9;
CREATE TEMPORARY TABLE T9(
	C1 INT
);

DROP TABLE IF EXISTS T10;
CREATE TEMPORARY TABLE T10
AS
SELECT NOW()
;


-- TEMPORARY TABLE
DROP VIEW IF EXISTS V1;
CREATE VIEW V1
AS
SELECT NOW()
;
DROP VIEW IF EXISTS V1;



-- FULLTEXT SEARCH
DROP TABLE IF EXISTS F1;
CREATE TABLE F1(
	C1 VARCHAR(200) NOT NULL,
	FULLTEXT INDEX IDX1(C1) WITH PARSER NGRAM
);

-- MAX COLUMN LENGTH 21845 byte
-- MAX TABLE LENGTH  65535 byte
-- ADD 2 byte per column
DROP TABLE IF EXISTS M1;
CREATE TABLE M1 (
	C1 VARCHAR(21844)
) CHARACTER SET utf8;
INSERT INTO M1 VALUES( RPAD( 'A', 21844, 'A' ));

DROP TABLE IF EXISTS M2;
CREATE TABLE M2 (
	C1 VARCHAR(65532)
) CHARACTER SET latin1;
INSERT INTO M2 VALUES( RPAD( 'A', 65532, 'A' ));





